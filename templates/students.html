<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Portal | EMIS</title>

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />

  <!-- Students CSS -->
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/students.css') }}"
  />
</head>
<body class="students-body">

  <!-- ================= HEADER ================= -->
  <header class="student-header">
    <div class="header-left">
      <i class="fa-solid fa-graduation-cap header-logo"></i>
      <span class="portal-title">EMIS Student Portal</span>
    </div>

    <div class="header-right">
      <button class="icon-btn" id="notifBtn" title="Notifications">
        <i class="fa-solid fa-bell"></i>
        <span class="notif-dot"></span>
      </button>
      <button class="icon-btn" id="themeToggle" title="Toggle Theme">
        <i class="fa-solid fa-sun"></i>
      </button>
      <img
        src="{{ url_for('static', filename='images/student.jpg') }}"
        alt="Student Avatar"
        class="student-avatar"
      />
    </div>
  </header>

  <!-- ================= HERO SECTION ================= -->
  <section class="hero-section fade-in">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1>Hello, Students!</h1>
      <p>Welcome to Your academic dashboard — access everything at a glance.</p>
      <div class="hero-actions">
        <button class="btn-primary">
          <i class="fa-solid fa-laptop-file"></i> Exam Portal
        </button>
        <button class="btn-secondary">
          <i class="fa-solid fa-circle-question"></i> Help
        </button>
      </div>
    </div>
  </section>

  <!-- ================= BODY SECTION WITH IMAGE BACKGROUND ================= -->
  <main class="content-area">

    <!-- ================= QUICK ACCESS ================= -->
    <section class="quick-access fade-in">
      <h2><i class="fa-solid fa-bolt"></i> Quick Access</h2>
      <p class="subtitle">Your core tools, always one click away.</p>

      <div class="tools-grid">
        <div class="tool-card blue">
          <i class="fa-solid fa-book"></i>
          <span>Subjects</span>
        </div>
        <div class="tool-card green">
          <i class="fa-solid fa-chart-line"></i>
          <span>Results</span>
        </div>
        <div class="tool-card purple">
          <i class="fa-solid fa-folder-open"></i>
          <span>Past Questions</span>
        </div>
        <div class="tool-card orange">
          <i class="fa-solid fa-file-circle-check"></i>
          <span>Study Materials</span>
        </div>
        <div class="tool-card teal">
          <i class="fa-solid fa-user-circle"></i>
          <span>Profile</span>
        </div>
        <div class="tool-card pink">
          <i class="fa-solid fa-id-card"></i>
          <span>Student ID</span>
        </div>
      </div>
    </section>

    <!-- ================= PERFORMANCE OVERVIEW ================= -->
    <section class="performance fade-in">
      <div class="section-header">
        <h2><i class="fa-solid fa-chart-pie"></i> Performance Overview</h2>
        <p class="subtitle">Monitor your progress in real time.</p>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <span class="stat-title">Average Score</span>
          <h3 id="avgScore">--%</h3>
        </div>
        <div class="stat-card">
          <span class="stat-title">Exams Attempted</span>
          <h3 id="examCount">--</h3>
        </div>
        <div class="stat-card">
          <span class="stat-title">Subjects Passed</span>
          <h3 id="passedSubjects">--</h3>
        </div>
        <div class="stat-card">
          <span class="stat-title">Study Hours</span>
          <h3 id="studyHours">--</h3>
        </div>
      </div>

      <canvas id="performanceChart"></canvas>
    </section>

    <!-- ================= UPCOMING EXAMS ================= -->
    <section class="upcoming-exams fade-in">
      <h2><i class="fa-solid fa-calendar-days"></i> Upcoming Exams</h2>
      <table class="exam-table">
        <thead>
          <tr>
            <th>Subject</th>
            <th>Date</th>
            <th>Time</th>
            <th>Venue</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="examSchedule">
          <!-- dynamically injected -->
        </tbody>
      </table>
    </section>

    <!-- ================= ANNOUNCEMENTS ================= -->
    <section class="announcements fade-in">
      <h2><i class="fa-solid fa-bullhorn"></i> Announcements</h2>
      <ul id="announcementList" class="announcement-list"></ul>
    </section>

    <!-- ================= FEEDBACK / CHAT SECTION ================= -->
    <section class="feedback-section fade-in">
      <h2><i class="fa-solid fa-comments"></i> Feedback & Support</h2>

      <div class="chat-container" id="feedbackChat">
        <div class="chat-messages" id="chatMessages">
          <!-- Chat messages dynamically loaded -->
        </div>

        <form id="feedbackForm" class="chat-input">
          <textarea
            id="feedbackText"
            placeholder="Type your message..."
          ></textarea>
          <button type="submit" class="send-btn">
            <i class="fa-solid fa-paper-plane"></i>
          </button>
        </form>
      </div>
    </section>

  </main>

  <!-- ================= FOOTER ================= -->
  <footer class="student-footer fade-in">
    <p>© <span id="year"></span> EMIS Portal — Empowering Students for Success</p>
  </footer>

  <!-- ================= NOTIFICATIONS PANEL ================= -->
  <aside class="notification-panel" id="notificationPanel">
    <div class="notif-header">
      <h3>Notifications</h3>
      <button class="icon-btn" id="closeNotif"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <ul id="notifList" class="notif-list"></ul>
  </aside>

  <!-- ================= JS ================= -->
  <script src="{{ url_for('static', filename='js/students.js') }}"></script>
</body>
</html>
